doctype html
html
  head
    meta(charset='utf-8')
    meta(http-equiv='X-UA-Compatible', content='IE=edge')
    meta(name='author', content='Eduardo Gonzalez')
    meta(name='description', content='Platform to build a perfect CMS in Node.js')
    meta(name='viewport', content='width=device-width, initial-scale=1.0')
    meta(name='csrf-token', content=_csrf)
    title #{title} - CMS Perfect
    link(rel='stylesheet', href='/css/resources.css')

  body(ng-app="#{angularApp ? angularApp : 'DashboardApp'}")
    include ../partials/navbar
    .container-fluid
      .row
        .col-sm-3.col-md-2.sidebar
          include ../partials/sidebar
        .col-sm-9.col-sm-offset-3.col-md-10.col-md-offset-2.main
          h2.page-header #{title}
          include ../partials/flash
          block content
          div(ng-view, ng-cloak)

    // Vendors JS
    script(src="//maps.googleapis.com/maps/api/js?sensor=false")
    script(src='/vendor/jquery/dist/jquery.min.js')
    script(src='/vendor/bootstrap/dist/js/bootstrap.min.js')
    script(src='/vendor/metisMenu/dist/metisMenu.min.js')
    script(src='/vendor/lodash/lodash.min.js')
    script(src='/vendor/datatables/media/js/jquery.dataTables.min.js')
    script(src='/vendor/datatables-plugins/integration/bootstrap/3/dataTables.bootstrap.min.js')

    // Angular Framework
    script(src='/vendor/angular/angular.js')
    script(src='/vendor/angular-route/angular-route.js')
    script(src='/vendor/angular-animate/angular-animate.js')
    script(src='/vendor/angular-resource/angular-resource.js')
    script(src='/vendor/angular-google-maps/dist/angular-google-maps.js')
    script(src='/vendor/angular-datatables/dist/angular-datatables.min.js')

    // Angular Modules
    script(src="/js/#{angularApp ? angularApp : 'DashboardApp'}.js")

    // Angular Controllers
    script(src='/js/controllers/AccountController.js')
    script(src='/js/controllers/AdminController.js')
    script(src='/js/controllers/DashboardController.js')
    script(src='/js/controllers/PaymentController.js')

    // Angular Services
    script(src='/js/services/AccountService.js')
    script(src='/js/services/AdminService.js')
    script(src='/js/services/DashboardService.js')
    script(src='/js/services/PaymentService.js')

    // Angular Directives
    script(src="/js/directives/ngAttachment.js")

    // Angular Filters
    script(src="/js/filters/customFilters.js")

    script.
      // Init Sidebar
      $('#side-menu').metisMenu({toggle: false});
      // Google Analytics: change UA-XXXXX-X to be your site's ID
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
       m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-XXXXX-X', 'auto');
      ga('send', 'pageview');